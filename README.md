# NTN – 指標トレードツール（MT5）

## 概要

このツールは、経済指標発表など瞬間的に大きく動く相場で活躍する「両建てSTOP注文」「自動利確・損切り」「独自バーチャルトレーリングストップ（VTS）」機能付きの発注パネルです。  
MT5のEAとして動作しますが、自動売買機能はありません。あくまで指標トレード時での売買ツールです。  
ボラティリティが高い指標トレードでのスピード・柔軟性を重視した実践派ツールです。

---

## 主な機能

- 指標直前に「現在価格から上下にSTOP注文」発注（MarginでPIP指定）
- **片側が約定したらもう片方のSTOP注文を自動キャンセル**
- **独自バーチャルトレーリングストップ（VTS）** で損益を自動追随して決済  
　※MT5標準トレーリングの制限・遅延を考慮し独自実装
- **MTP（マニュアルTP）** 機能  
　ストップレベル等でTPを置けない時もM(マニュアル)TPが使用可能
- 各種ワンクリック操作（全決済・全注文キャンセルなど）

---

## パネル・ボタン項目説明

| 項目/ボタン名         | 説明                                                                               |
|----------------------|------------------------------------------------------------------------------------|
| Order                | 現在価格から上下に「Margin」PIP離してSTOP注文を同時発注                            |
| MTP                  | マニュアルTP（TP設置できない場合の手動利確PIP）                                     |
| CloseAllPosition     | 全ポジションを一括決済                                                             |
| VTS                  | バーチャルトレーリングストップ（PIP幅）                                             |
| CancelAllOrder       | 未約定の全STOP/指値注文を一括キャンセル                                             |
| Current PIP/POINT    | エントリーからの損益値幅をリアルタイム表示                                         |
| Margin               | 上下STOP注文を現在価格から何PIP離して出すか                                         |
| Lot                  | 注文ロットサイズ                                                                   |
| SL                   | 損切り幅（PIP）                                                                    |
| TP                   | 利確幅（PIP）                                                                      |
| VTS_Min              | **VTS発動最低条件**（指定PIP以上の利益でVTS発動）                                   |


![スクリーンショット](https://github.com/user-attachments/assets/327d9864-8b33-453e-83af-f70fc96b9503)

---

## 各機能・用語解説

- **両建てSTOP注文＋片側自動キャンセル**  
　指標発表数秒前、現在価格から上下指定PIP（Margin）でSTOP注文を同時発注。どちらかが約定したら、もう一方の未約定注文は自動でキャンセル。
- **バーチャルトレーリングストップ（VTS）**  
　MT5標準のトレーリングでは発注遅延や制限が多いので、独自に損益PIPを監視し、設定幅でトレーリング決済。VTS_Minで「最低何PIPの含み益が出てから発動するか」も指定可。
- **MTP（マニュアルTP）**  
　StopLevel等でTP注文を置けない場合でも、マニュアルで利確する仕組み。MTPの値で指定PIP到達時に自動決済。
- **CloseAllPosition / CancelAllOrder**  
　ワンクリックで全決済・全注文キャンセル

---

## 使い方

1. `NTN.ex5`をMetaTrader 5の`Experts`フォルダにコピー
2. 指標発表直前に、パネルでPIP幅・ロット等を設定し「Order」で両建てSTOP注文を発注
3. 片側が約定したら、自動的にもう片側STOPはキャンセル
4. 必要に応じてVTSやMTP機能を有効化、各種決済/キャンセルボタンも利用可能
5. **必ずデモ口座で動作テスト**をしてください。

---

## 推奨設定・注意事項

- 指標トレードは**極めてリスクが高い**ため、必ず**自己責任**でご利用ください
- MT5の**ストップレベル/発注制限**にご注意ください（MTP、VTS機能で回避可能）
- **急激なボラティリティ**（値動きの大きさ）によって、スリッページや”約定遅延”が発生する場合があります
- バグや不具合、計算ミスなども考慮し、**必ず事前にデモ口座で十分な動作確認**を行ってください

---

## DEMO動画

-アメリカ・ADP雇用者数

https://github.com/user-attachments/assets/1077be3d-c2a1-4fe9-aa2d-d6d00a974dc4


-米国 GDP発表 (ボラティリティ低め)

https://github.com/user-attachments/assets/40872a3d-0a86-4bf6-a2be-f13346cc2a31  


-アメリカ・ISM製造業景気指数　　

https://github.com/user-attachments/assets/aec86b4d-1d05-4186-8200-0757aca4d6e8









